{"version":3,"sources":["components/navbar.js","pages/about.js","visualizations/birth-sex-ratio-world.js","visualizations/birth-sex-ratio-dot-plot.js","pages/birth.js","index.js"],"names":["NavBar","pageName","className","to","AboutPage","SexRatioWorld","year","data","_","find","SexRatioWorldDataMultiYear","matchesProperty","features","countries","margin","top","right","bottom","left","colors","domain","unknownColor","label","valueFormat","enableGraticule","borderWidth","borderColor","legends","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemDirection","itemTextColor","itemOpacity","symbolSize","effects","on","style","SexRatioDotPlot","type","girl_count","boy_circles","girl_circles","i","push","padding","SexRatioNumber","fontSize","textAlign","border","DotGirlMissing","fadeColor","BirthPage","useState","countryVisYear","setCountryVisYear","years","currentStepIndex","setCurrentStepIndex","opacity","visibility","height","onStepEnter","offset","color","map","marginTop","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"40jbAgCeA,EA7BA,SAAC,GAAsB,EAApBC,SAChB,OACE,sBAAKC,UAAU,SAAf,UACE,qBAAKA,UAAU,OAAf,wCAGA,sBAAKA,UAAU,SAAf,UACE,qBAAKA,UAAU,cAAf,SACE,cAAC,IAAD,CAAMC,GAAG,SAAT,qBAIF,qBAAKD,UAAU,cAAf,oBAGA,qBAAKA,UAAU,cAAf,kBAGA,qBAAKA,UAAU,cAAf,sBAGA,qBAAKA,UAAU,cAAf,gCCZOE,EATG,WAChB,OACE,gCACE,cAAC,EAAD,IADF,gB,6EC6CWC,EA5CO,SAAC,GAAY,IAAXC,EAAU,EAAVA,KAEtB,OACE,cAAC,IAAD,CACEC,KAAMC,IAAEC,KAAKC,EAA4BF,IAAEG,gBAAgB,OAAQL,IAAOC,KAC1EK,SAAUC,EAAUD,SACpBE,OAAQ,CAAEC,IAAK,GAAIC,MAAO,EAAGC,OAAQ,EAAGC,KAAM,GAC9CC,OAAO,SACPC,OAAQ,CAAE,EAAM,MAChBC,aAAa,UACbC,MAAM,kBACNC,YAAY,OACZC,iBAAiB,EACjBC,YAAa,GACbC,YAAY,UACZC,QAAS,CACP,CACEC,OAAQ,cACRC,UAAW,SACXC,SAAS,EACTC,WAAY,GACZC,YAAa,IACbC,aAAc,EACdC,UAAW,GACXC,WAAY,GACZC,cAAe,gBACfC,cAAe,UACfC,YAAa,IACbC,WAAY,GACZC,QAAS,CACP,CACEC,GAAI,QACJC,MAAO,CACLL,cAAe,UACfC,YAAa,UCQdK,EA9CS,SAAC,GAOvB,IAPmC,IAAXC,EAAU,EAAVA,KAElBC,EAAqB,UAAPD,EAAkB,IAAM,IAExCE,EAAc,GACdC,EAAe,GAEVC,EAAE,EAAGA,EANI,IAMSA,IACzBF,EAAYG,KACV,qBAAa/C,UAAU,wBAAb8C,IAId,IAAK,IAAIA,EAAE,EAAGA,EAAEH,EAAYG,IAC1BD,EAAaE,KACH,YAAPL,GAAoBI,EAAI,IACvB,qBAAa9C,UAAU,iCAAb8C,GACZ,qBAAa9C,UAAU,yBAAb8C,IAId,OACE,sBAAK9C,UAAU,mBAAmBwC,MAAO,CACvCQ,QAAS,QADX,UAGE,sBAAKhD,UAAU,YAAf,UACE,qBAAKA,UAAU,QAAf,iBAGA,qBAAKA,UAAU,2BAAf,SACG4C,OAGL,sBAAK5C,UAAU,YAAf,UACE,qBAAKA,UAAU,QAAf,kBAGA,qBAAKA,UAAU,2BAAf,SACG6C,WCjCLI,EAAiB,kBACrB,qBAAKT,MAAO,CACVU,SAAU,QACVC,UAAW,SACXC,OAAQ,mBAHV,sBAUIC,EAAiB,WAErB,OACE,qBAAKb,MAAO,CACXU,SAAU,QACTC,UAAW,SACXC,OAAQ,mBAHV,oBAUEE,EAAU,UAoLDC,EAjLG,WAAM,MAEsBC,mBAAS,MAF/B,mBAEfC,EAFe,KAECC,EAFD,KAGhBC,EAAQ,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAHnF,EAO0BH,mBAAS,MAPnC,mBAOfI,EAPe,KAOGC,EAPH,KAmBtB,OACE,sBAAK7D,UAAU,OAAf,UACE,cAAC,EAAD,CAAQD,SAAS,UAEjB,sBAAKC,UAAU,gBAAf,UACE,qBAAKA,UAAU,sBACVwC,MAAO,CACLsB,QAA4B,IAAnBF,EAAuB,EAAI,EACpCG,WAA+B,IAAnBH,EAAuB,UAAY,UAHtD,SAME,cAAC,EAAD,MAEF,qBAAK5D,UAAU,sBACVwC,MAAO,CACLsB,QAA4B,IAAnBF,EAAuB,EAAI,EACpCG,WAA+B,IAAnBH,EAAuB,UAAY,UAHtD,SAME,cAAC,EAAD,CAAkBlB,KAAK,YAEzB,qBAAK1C,UAAU,sBACVwC,MAAO,CACLsB,QAA4B,IAAnBF,EAAuB,EAAI,EACpCG,WAA+B,IAAnBH,EAAuB,UAAY,UAHtD,SAME,cAAC,EAAD,CAAkBlB,KAAK,YAEzB,qBAAK1C,UAAU,sBACVwC,MAAO,CACLsB,QAA4B,IAAnBF,EAAuB,EAAI,EACpCG,WAA+B,IAAnBH,EAAuB,UAAY,UAHtD,SAME,cAAC,EAAD,CAAkBlB,KAAK,cAEzB,qBAAK1C,UAAU,sBACVwC,MAAO,CACLsB,QAA4B,IAAnBF,EAAuB,EAAI,EACpCG,WAA+B,IAAnBH,EAAuB,UAAY,UAHtD,SAME,cAAC,EAAD,MAEF,qBAAK5D,UAAU,sBACVwC,MAAO,CACLsB,QAA4B,IAAnBF,EAAuB,EAAI,EACpCG,WAA+B,IAAnBH,EAAuB,UAAY,UAHtD,SAME,qBAAKpB,MAAO,CAACwB,OAAQ,aAIvB,sBAAKhE,UAAU,sBACVwC,MAAO,CACLsB,QAASF,GAAkB,EAAI,EAAI,EACnCG,WAAYH,GAAkB,EAAI,UAAY,UAHrD,UAMGD,EAAMC,EAAiB,GACxB,qBAAKpB,MAAO,CAACwB,OAAQ,SAArB,SACE,cAAC,EAAD,CAAqB5D,KAAMqD,SAa/B,qBAAKzD,UAAU,qBAAf,SACE,eAAC,IAAD,CAAWiE,YAtFC,SAAC,GAAc,IAAZ5D,EAAW,EAAXA,KACrBwD,EAAoBxD,GAChBA,EAAO,GACTqD,EAAkBC,EAAMtD,EAAK,KAmFY6D,OAAQ,GAA7C,UACE,cAAC,IAAD,CAAM7D,KAAM,EAAZ,SACE,oBAAImC,MAAO,CAAC2B,MAA0B,IAAnBP,EAAuB,QAASN,GAAnD,qCAIF,cAAC,IAAD,CAAMjD,KAAM,EAAZ,SACE,qBAAKL,UAAU,aAAawC,MAAO,CAAC2B,MAA0B,IAAnBP,EAAuB,QAASN,GAA3E,SACE,0EAC2C,wCAD3C,WAKJ,cAAC,IAAD,CAAMjD,KAAM,EAAZ,SACE,qBAAKL,UAAU,aAAawC,MAAO,CAAC2B,MAA0B,IAAnBP,EAAuB,QAASN,GAA3E,SACE,wFAKJ,cAAC,IAAD,CAAMjD,KAAM,EAAZ,SACE,qBAAKL,UAAU,aAAawC,MAAO,CAAC2B,MAA0B,IAAnBP,EAAuB,QAASN,GAA3E,SACE,sJAMJ,cAAC,IAAD,CAAMjD,KAAM,EAAZ,SACE,qBAAKL,UAAU,aAAawC,MAAO,CAAC2B,MAA0B,IAAnBP,EAAuB,QAASN,GAA3E,SACE,2GAKJ,cAAC,IAAD,CAAMjD,KAAM,EAAZ,SACE,qBAAKL,UAAU,aAAawC,MAAO,CAAC2B,MAA0B,IAAnBP,EAAuB,QAASN,GAA3E,SACE,2GAKJ,cAAC,IAAD,CAAMjD,KAAM,EAAZ,SACE,qBAAKL,UAAU,aAAf,SACE,6IAMF2D,EAAMS,KAAI,SAAChE,EAAM0C,GAAP,OACR,cAAC,IAAD,CAAMzC,KAAMyC,EAAE,EAAd,SACE,qBAAKN,MAAO,CACVW,UAAU,SACVD,SAAS,OACTmB,UAAU,OACVF,MAA0B,IAAnBP,EAAuB,QAASN,GAJzC,SAOGlD,qBCpLrBkE,IAASC,OACP,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWxE,IACjC,cAAC,IAAD,CAAOsE,OAAK,EAACC,KAAK,SAASC,UAAWnB,OAExCoB,SAASC,eAAe,W","file":"static/js/main.02f6d58d.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NavBar = ( {pageName=null} ) => {\n  return (\n    <div className=\"header\">\n      <div className=\"logo\">\n        Gender Inequality in China\n      </div>\n      <div className=\"navbar\">\n        <div className=\"navbar-item\">\n          <Link to=\"/birth\">\n            birth\n          </Link>\n        </div>\n        <div className=\"navbar-item\">\n          school\n        </div>\n        <div className=\"navbar-item\">\n          work\n        </div>\n        <div className=\"navbar-item\">\n          marriage\n        </div>\n        <div className=\"navbar-item\">\n          inheritance\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default NavBar;","import React from 'react';\nimport Navbar from '../components/navbar';\n\nconst AboutPage = () => {\n  return (\n    <div>\n      <Navbar />\n      AboutPage\n    </div>\n  );\n}\n\nexport default AboutPage;","import {ResponsiveChoropleth} from \"@nivo/geo\";\nimport SexRatioWorldDataMultiYear from \"../data/sex-ratio-world-multi-year.json\";\nimport countries from \"../data/world_countries.json\";\nimport React from \"react\";\nimport _ from 'lodash';\n\nconst SexRatioWorld = ({year}) => {\n\n  return (\n    <ResponsiveChoropleth\n      data={_.find(SexRatioWorldDataMultiYear, _.matchesProperty('year', year)).data}\n      features={countries.features}\n      margin={{ top: 20, right: 0, bottom: 0, left: 0 }}\n      colors=\"YlOrRd\"\n      domain={[ 1.00, 1.18 ]}\n      unknownColor=\"#666666\"\n      label=\"properties.name\"\n      valueFormat=\"0.3s\"\n      enableGraticule={false}\n      borderWidth={0.3}\n      borderColor=\"#152538\"\n      legends={[\n        {\n          anchor: 'bottom-left',\n          direction: 'column',\n          justify: true,\n          translateX: 20,\n          translateY: -100,\n          itemsSpacing: 0,\n          itemWidth: 94,\n          itemHeight: 18,\n          itemDirection: 'left-to-right',\n          itemTextColor: '#444444',\n          itemOpacity: 0.85,\n          symbolSize: 18,\n          effects: [\n            {\n              on: 'hover',\n              style: {\n                itemTextColor: '#000000',\n                itemOpacity: 1\n              }\n            }\n          ]\n        }\n      ]}\n    />\n  )\n};\n\nexport default SexRatioWorld;","import React from \"react\";\n\nconst SexRatioDotPlot = ({type}) => {\n  const boy_count = 121;\n  const girl_count = (type===\"china\") ? 100 : 116;\n\n  let boy_circles = [];\n  let girl_circles = [];\n\n  for (let i=0; i<boy_count; i++) {\n    boy_circles.push(\n      <div key={i} className=\"sex-ratio-circle-boy\" />\n    )\n  }\n\n  for (let i=0; i<girl_count; i++) {\n    girl_circles.push(\n      (type===\"missing\" && i > 100) ?\n        <div key={i} className=\"sex-ratio-circle-girl-missing\" /> :\n      <div key={i} className=\"sex-ratio-circle-girl\" />\n    )\n  }\n\n  return (\n    <div className=\"dot-plot-overall\" style={{\n      padding: \"30px\"\n    }}>\n      <div className=\"sex-block\">\n        <div className=\"label\">\n          Boy\n        </div>\n        <div className=\"sex-ratio-circle-wrapper\">\n          {boy_circles}\n        </div>\n      </div>\n      <div className=\"sex-block\">\n        <div className=\"label\">\n          Girl\n        </div>\n        <div className=\"sex-ratio-circle-wrapper\">\n          {girl_circles}\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nexport default SexRatioDotPlot;","import React, { useState } from 'react';\nimport { Scrollama, Step } from 'react-scrollama';\nimport Navbar from '../components/navbar';\nimport SexRatioByChildNumber from '../visualizations/birth-sex-ratio-by-child-number';\nimport SexRatioWorldByYear from \"../visualizations/birth-sex-ratio-world\";\nimport SexRatioDotPlot from \"../visualizations/birth-sex-ratio-dot-plot\";\n\nconst SexRatioNumber = () => (\n  <div style={{\n    fontSize: \"150px\",\n    textAlign: \"center\",\n    border: \"5px solid black\"\n\n  }}>\n    1.21: 1\n  </div>\n)\n\nconst DotGirlMissing = () => {\n  // temp just the number\n  return (\n    <div style={{\n     fontSize: \"150px\",\n      textAlign: \"center\",\n      border: \"5px solid black\"\n    }}>\n      83034\n    </div>\n  )\n};\n\nconst fadeColor=\"#5e5e5e\";\n\n\nconst BirthPage = () => {\n  // year scroll for country map\n  const [countryVisYear, setCountryVisYear] = useState(1990);\n  const years = [1990, 1992, 1997, 2002, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018];\n\n\n  // don't touch\n  const [currentStepIndex, setCurrentStepIndex] = useState(null);\n  // This callback fires when a Step hits the offset threshold. It receives the\n  // data prop of the step, which in this demo stores the index of the step.\n  const onStepEnter = ({ data }) => {\n    setCurrentStepIndex(data);\n    if (data > 7) {\n      setCountryVisYear(years[data-8]);\n    }\n  };\n\n\n\n  return (\n    <div className=\"page\">\n      <Navbar pageName=\"birth\"/>\n\n      <div className=\"page-contents\">\n        <div className=\"visualization-fancy\"\n             style={{\n               opacity: currentStepIndex===2 ? 1 : 0,\n               visibility: currentStepIndex===2 ? \"visible\" : \"hidden\"\n             }}\n        >\n          <SexRatioNumber />\n        </div>\n        <div className=\"visualization-fancy\"\n             style={{\n               opacity: currentStepIndex===3 ? 1 : 0,\n               visibility: currentStepIndex===3 ? \"visible\" : \"hidden\"\n             }}\n        >\n          <SexRatioDotPlot  type=\"china\" />\n        </div>\n        <div className=\"visualization-fancy\"\n             style={{\n               opacity: currentStepIndex===4 ? 1 : 0,\n               visibility: currentStepIndex===4 ? \"visible\" : \"hidden\"\n             }}\n        >\n          <SexRatioDotPlot  type=\"world\" />\n        </div>\n        <div className=\"visualization-fancy\"\n             style={{\n               opacity: currentStepIndex===5 ? 1 : 0,\n               visibility: currentStepIndex===5 ? \"visible\" : \"hidden\"\n             }}\n        >\n          <SexRatioDotPlot  type=\"missing\" />\n        </div>\n        <div className=\"visualization-fancy\"\n             style={{\n               opacity: currentStepIndex===6 ? 1 : 0,\n               visibility: currentStepIndex===6 ? \"visible\" : \"hidden\"\n             }}\n        >\n          <DotGirlMissing />\n        </div>\n        <div className=\"visualization-fancy\"\n             style={{\n               opacity: currentStepIndex===7 ? 1 : 0,\n               visibility: currentStepIndex===7 ? \"visible\" : \"hidden\"\n             }}\n        >\n          <div style={{height: \"600px\"}}>\n            {/*<SexRatioWorld />*/}\n          </div>\n        </div>\n        <div className=\"visualization-fancy\"\n             style={{\n               opacity: currentStepIndex>=8 ? 1 : 0,\n               visibility: currentStepIndex>=8 ? \"visible\" : \"hidden\"\n             }}\n        >\n          {years[currentStepIndex-8]}\n          <div style={{height: \"600px\"}}>\n            <SexRatioWorldByYear year={countryVisYear} />\n          </div>\n        </div>\n        {/*<div className=\"visualization-fancy\"*/}\n        {/*     style={{*/}\n        {/*       opacity: currentStepIndex=== ? 1 : 0,*/}\n        {/*       visibility: currentStepIndex===8 ? \"visible\" : \"hidden\"*/}\n        {/*     }}*/}\n        {/*>*/}\n        {/*  <SexRatioByChildNumber />*/}\n        {/*</div>*/}\n\n\n        <div className=\"accompany-text-all\">\n          <Scrollama onStepEnter={onStepEnter} offset={0.4}>\n            <Step data={1} >\n              <h1 style={{color: currentStepIndex===1 ? \"black\": fadeColor}}>\n                The Unwanted Daughter\n              </h1>\n            </Step>\n            <Step data={2}>\n              <div className=\"text-block\" style={{color: currentStepIndex===2 ? \"black\": fadeColor}}>\n                <p>\n                  In 2009, the newborn sex ratio China was <b>1.21: 1</b>.\n                </p>\n              </div>\n            </Step>\n            <Step data={3}>\n              <div className=\"text-block\" style={{color: currentStepIndex===3 ? \"black\": fadeColor}}>\n                <p>\n                  This means, 121 boys are born with every 100 girls.\n                </p>\n              </div>\n            </Step>\n            <Step data={4}>\n              <div className=\"text-block\" style={{color: currentStepIndex===4 ? \"black\": fadeColor}}>\n                <p>\n                  This number was much higher than the world average, 1.05: 1,\n                  where 115 girls should have been born with 121 boys.\n                </p>\n              </div>\n            </Step>\n            <Step data={5}>\n              <div className=\"text-block\" style={{color: currentStepIndex===5 ? \"black\": fadeColor}}>\n                <p>\n                  It means that in China, with every 100 newborn girls, 15 went missing.\n                </p>\n              </div>\n            </Step>\n            <Step data={6}>\n              <div className=\"text-block\" style={{color: currentStepIndex===6 ? \"black\": fadeColor}}>\n                <p>\n                  Given that 537987 girls were born that year, 83034 girls went missing.\n                </p>\n              </div>\n            </Step>\n            <Step data={7}>\n              <div className=\"text-block\">\n                <p>\n                  In fact, China has been having the world's highest newborn sex ratio for the past 30 years (since 1990).\n                </p>\n              </div>\n            </Step>\n            {\n              years.map((year, i) => (\n                <Step data={i+8}>\n                  <div style={{\n                    textAlign:\"center\",\n                    fontSize:\"20px\",\n                    marginTop:\"10px\",\n                    color: currentStepIndex===4 ? \"black\": fadeColor\n                  }}\n                  >\n                    {year}\n                  </div>\n                </Step>\n              ))\n            }\n\n\n            {/*<Step data={4}>*/}\n            {/*  <div className=\"text-block\">*/}\n            {/*    <p>*/}\n            {/*      Due to the one-child policy, the second or third child (illegal) faces even harsher sex selection.*/}\n            {/*    </p>*/}\n            {/*  </div>*/}\n            {/*</Step>*/}\n          </Scrollama>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default BirthPage;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, Route } from 'react-router-dom';\nimport './index.scss';\n\n// pages\nimport AboutPage from \"./pages/about\";\nimport BirthPage from \"./pages/birth\";\n\nReactDOM.render(\n  <HashRouter>\n    <Route exact path=\"/\" component={AboutPage} />\n    <Route exact path=\"/birth\" component={BirthPage} />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}